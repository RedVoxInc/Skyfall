<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="prev" title="1. Update the Configuration File" href="configuration.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.04.07"/>
        <title>2. Run the code - Skyfall</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Skyfall</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Skyfall</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting-started/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/download.html">1. Download the Skyfall data from RedVox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/install.html">2. Set up your software environment</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Running Skyfall</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">1. Update the Configuration File</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">2. Run the code</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="run-the-code">
<h1><span class="section-number">2. </span>Run the code<a class="headerlink" href="#run-the-code" title="Permalink to this headline">#</a></h1>
<p>Now that all the set-up is complete, you are ready to run the Skyfall example!</p>
<div class="section" id="introduction-skyfall-intro-py">
<h2><span class="section-number">2.1. </span>Introduction: skyfall_intro.py<a class="headerlink" href="#introduction-skyfall-intro-py" title="Permalink to this headline">#</a></h2>
<p>Run the file <code class="docutils literal notranslate"><span class="pre">skyfall_intro.py</span></code> (view in <a class="reference external" href="https://github.com/RedVoxInc/Skyfall/blob/main/skyfall_intro.py">code in Github</a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">skyfall_intro.py</span></code> extracts the API 900 RedVox data and plots Time-Domain Representation of the different sensors
available as the phone descended from the Stratosphere. A graph plotted in <code class="docutils literal notranslate"><span class="pre">skyfall_intro.py</span></code> is shown below.</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../_images/wiggles.png"><img alt="wiggles" src="../_images/wiggles.png" style="width: 715.0px; height: 390.0px;"/></a>
<p class="caption"><span class="caption-text">High-pass filtered (hp) waveforms for sensors: audio, barometer (Bar), accelerometer
(Acc), gyroscope (Gyr), and magnetometer (Mag). X-Y-Z coordinates are shown vertical axes are normalized to the peak absolute magnitude of each channel.
Figure 17. High-pass filtered (hp) waveforms for sensors: audio, barometer (Bar), accelerometer
(Acc), gyroscope (Gyr), and magnetometer (Mag).</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</div>
</div>
<div class="section" id="more-scripts">
<h2><span class="section-number">2.2. </span>More scripts<a class="headerlink" href="#more-scripts" title="Permalink to this headline">#</a></h2>
<p>The <em>lib</em> folder (view in <a class="reference external" href="https://github.com/RedVoxInc/Skyfall/tree/main/lib">Github</a>) contains various scripts that examine different aspects of the data.
In order:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">run_all.py</span></code>: run all the scripts in the <em>lib</em> folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_dw</span></code>: create a <a class="reference external" href="https://github.com/RedVoxInc/redvox-python-sdk/tree/master/docs/python_sdk/data_window#datawindow">RedVox DataWindow</a> that is used to load the RedVox data in <code class="docutils literal notranslate"><span class="pre">run_all.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_ensonify.py</span></code>: ensonify the Skyfall dataset to a <em>.wav</em> file so you can listen to it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_export.py</span></code>: export the Skyfall dataset into a <em>.parquet</em> for later use</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_gravity.py</span></code>: examine the accelerometer gravity waveforms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_loc_rpd.py</span></code>: extract the location data from the bounder to make a CSV (in the <em>bounder</em> folder)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_spinning.py</span></code>: examine the gyroscope to understand how the phone spun as it fell</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_station_specs.py</span></code>: export station specs to CSV</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_tdr_rpd.py</span></code>: plot Time-Domain Representations (run in <code class="docutils literal notranslate"><span class="pre">skyfall_intro.py</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skyfall_tfr_rpd.py</span></code>: plot Time-Frequency Representations</p></li>
</ul>
<p>An example of a spectrogram plotted in <code class="docutils literal notranslate"><span class="pre">skyfall_tfr_rpd.py</span></code>:</p>
<div class="figure align-default" id="id2">
<a class="reference internal image-reference" href="../_images/spectrogram.jpg"><img alt="wiggles spectrogram" src="../_images/spectrogram.jpg" style="width: 605.0px; height: 334.40000000000003px;"/></a>
<p class="caption"><span class="caption-text">Short-term Fourier transforms of high-pass filtered (hp) waveforms for sensors: audio, barometer (Bar), accelerometer (Acc), gyroscope (Gyr), and magnetometer (Mag). The color scales
barometer (Bar), accelerometer (Acc), gyroscope (Gyr), and magnetometer (Mag). The color scales to
to the maximum amplitude. The vertical axes represent logarithmic frequency in hertz to the sensor
the maximum amplitude.</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</div>
</div>
<div class="section" id="what-to-do-next">
<h2><span class="section-number">2.3. </span>What to do next?<a class="headerlink" href="#what-to-do-next" title="Permalink to this headline">#</a></h2>
<p>Here are a few suggestions if you are interested in learning more about Skyfall and RedVox:</p>
<ul class="simple">
<li><p>Read more about Skyfall in <a class="reference external" href="https://www.mdpi.com/2624-6120/3/2/14/">Skyfall: Signal Fusion from a Smartphone Falling from the Stratosphere</a>.</p></li>
<li><p>Read more about the <a class="reference external" href="https://github.com/RedVoxInc/redvox-python-sdk">RedVox SDK</a> used to load the RedVox phone data.</p></li>
<li><p>Read more about <a class="reference external" href="https://github.com/RedVoxInc/redpandas">RedPandas</a> used to process the RedVox data.</p></li>
</ul>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="configuration.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">1. </span>Update the Configuration File</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, RedVox, Inc.
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/RedVoxInc/Skyfall" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2. Run the code</a><ul>
<li><a class="reference internal" href="#introduction-skyfall-intro-py">2.1. Introduction: skyfall_intro.py</a></li>
<li><a class="reference internal" href="#more-scripts">2.2. More scripts</a></li>
<li><a class="reference internal" href="#what-to-do-next">2.3. What to do next?</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    </body>
</html>